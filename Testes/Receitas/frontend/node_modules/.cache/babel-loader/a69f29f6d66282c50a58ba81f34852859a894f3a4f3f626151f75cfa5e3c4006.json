{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\"; // Importação do Axios\n\nexport default {\n  name: \"ProfilePage\",\n  data() {\n    return {\n      userData: null,\n      userRecipes: [],\n      carregando: true,\n      erro: null\n    };\n  },\n  async created() {\n    try {\n      const firebaseUser = JSON.parse(localStorage.getItem(\"user\"));\n      if (firebaseUser) {\n        this.userData = {\n          name: firebaseUser.name,\n          email: firebaseUser.email,\n          profile_picture: firebaseUser.profile_picture,\n          id: firebaseUser._id\n        };\n        if (!this.userData.id) {\n          throw new Error(\"ID do user não encontrado no localStorage.\");\n        }\n      }\n\n      //GET das receitas do user atual\n      this.userRecipes = await this.fetchUserRecipes();\n      this.carregando = false;\n    } catch (error) {\n      this.erro = \"Erro ao carregar perfil ou receitas\";\n      console.error(error);\n    }\n  },\n  methods: {\n    editProfile() {\n      this.$router.push({\n        name: 'EditProfile'\n      });\n    },\n    async fetchUserRecipes() {\n      try {\n        const response = await axios.get(`http://localhost:3000/receitas/chef_id/${this.userData.id}`);\n        return response.data;\n      } catch (error) {\n        console.error(\"Erro ao ir buscar receitas:\", error.response || error);\n        this.erro = error.response?.data?.message || \"Erro desconhecido\";\n        return [];\n      }\n    },\n    truncateText(text, maxLength) {\n      if (text.length > maxLength) {\n        return text.substring(0, maxLength) + \"...\";\n      }\n      return text;\n    }\n  }\n};","map":{"version":3,"names":["axios","name","data","userData","userRecipes","carregando","erro","created","firebaseUser","JSON","parse","localStorage","getItem","email","profile_picture","id","_id","Error","fetchUserRecipes","error","console","methods","editProfile","$router","push","response","get","message","truncateText","text","maxLength","length","substring"],"sources":["C:\\Users\\Diogo Resende\\Desktop\\DWA\\G7_24-25\\G7_24-25\\Receitas\\frontend\\src\\components\\ProfilePage.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <header class=\"navbar\">\r\n      <div class=\"logo-container\">\r\n        <img src=\"@/assets/icon.png\" alt=\"Logo EuCozinho\" class=\"logo\" />\r\n        <h1>EuCozinho</h1>\r\n      </div>\r\n      <nav>\r\n        <router-link to=\"/home\">Receitas</router-link>\r\n        <router-link :to=\"{ name: 'ChefDetail', params: { id: 1 } }\">Chefes</router-link>\r\n\r\n        <router-link to=\"/profile\" class=\"profile-icon\">\r\n          <img src=\"@/assets/perfil.png\" alt=\"Perfil\" />\r\n        </router-link>\r\n\r\n\r\n        <router-link to=\"/\">Logout</router-link>\r\n      </nav>\r\n    </header>\r\n\r\n    <main class=\"profile\">\r\n      <div class=\"profile-info\">\r\n        <div class=\"profile-img\">\r\n          <img :src=\"userData.profile_picture\" alt=\"Perfil\" />\r\n        </div>\r\n        <div class=\"profile-details\">\r\n          <p><strong>Nome de utilizador:</strong> {{ userData.name }}</p>\r\n          <p><strong>Email:</strong> {{ userData.email }}</p>\r\n        </div>\r\n        <div class=\"profile-actions\">\r\n          <button class=\"btn\" @click=\"editProfile\">Editar Perfil</button>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"profile-recipes\">\r\n        <h2>Receitas publicadas</h2>\r\n        <div v-for=\"recipe in userRecipes\" :key=\"recipe._id\" class=\"recipe-card\">\r\n          <img :src=\"recipe.image_url\" alt=\"Receita\" />\r\n          <h3>{{ recipe.title }}</h3>\r\n          <p>{{ truncateText(recipe.description, 100) }}</p>\r\n          <button class=\"btn\">Ver receita</button>\r\n        </div>\r\n      </div>\r\n    </main>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\"; // Importação do Axios\r\n\r\nexport default {\r\n  name: \"ProfilePage\",\r\n  data() {\r\n    return {\r\n      userData: null,\r\n      userRecipes: [],\r\n      carregando: true,\r\n      erro: null,\r\n    };\r\n  },\r\n  async created() {\r\n  try {\r\n    const firebaseUser = JSON.parse(localStorage.getItem(\"user\"));\r\n    if (firebaseUser) {\r\n      this.userData = {\r\n        name: firebaseUser.name,\r\n        email: firebaseUser.email,\r\n        profile_picture: firebaseUser.profile_picture,\r\n        id: firebaseUser._id,\r\n      };\r\n\r\n      if (!this.userData.id) {\r\n        throw new Error(\"ID do user não encontrado no localStorage.\");\r\n      }\r\n    }\r\n\r\n    //GET das receitas do user atual\r\n    this.userRecipes = await this.fetchUserRecipes();\r\n    this.carregando = false;\r\n  } catch (error) {\r\n    this.erro = \"Erro ao carregar perfil ou receitas\";\r\n    console.error(error);\r\n  }\r\n},\r\nmethods: {\r\n  editProfile() {\r\n    this.$router.push({ name: 'EditProfile' });\r\n  },\r\n  async fetchUserRecipes() {\r\n    try {\r\n      const response = await axios.get(\r\n        `http://localhost:3000/receitas/chef_id/${this.userData.id}`\r\n      );\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error(\"Erro ao ir buscar receitas:\", error.response || error);\r\n      this.erro = error.response?.data?.message || \"Erro desconhecido\";\r\n      return [];\r\n    }\r\n  },\r\n  truncateText(text, maxLength) {\r\n    if (text.length > maxLength) {\r\n      return text.substring(0, maxLength) + \"...\";\r\n    }\r\n    return text;\r\n  },\r\n},\r\n};\r\n</script>\r\n\r\n<style>\r\nbody {\r\n  font-family: Arial, sans-serif;\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n\r\n.header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 10px 20px;\r\n  background-color: #f8f9fa;\r\n  border-bottom: 1px solid #ddd;\r\n}\r\n\r\n.nav ul {\r\n  display: flex;\r\n  list-style: none;\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n\r\n.nav li {\r\n  margin-right: 20px;\r\n}\r\n\r\n.nav a {\r\n  text-decoration: none;\r\n  color: #007bff;\r\n}\r\n\r\n.profile {\r\n  padding: 20px;\r\n}\r\n\r\n.profile-info {\r\n  display: flex;\r\n  align-items: center;\r\n  margin-bottom: 30px;\r\n}\r\n\r\n.profile-img img {\r\n  border-radius: 50%;\r\n  width: 100px;\r\n  height: 100px;\r\n  margin-right: 20px;\r\n}\r\n\r\n.profile-details p {\r\n  margin: 5px 0;\r\n}\r\n\r\n.profile-actions {\r\n  margin-left: auto;\r\n}\r\n\r\n.profile-actions .btn {\r\n  display: block;\r\n  margin: 10px 0;\r\n  padding: 10px 15px;\r\n  background-color: #e74c3c;\r\n  color: #fff;\r\n  border: none;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n}\r\n\r\n.profile-actions .btn:hover {\r\n  background-color: #c0392b;\r\n}\r\n\r\n.profile-recipes {\r\n  margin-top: 20px;\r\n}\r\n\r\n.recipe-card {\r\n  border: 1px solid #ddd;\r\n  border-radius: 5px;\r\n  overflow: hidden;\r\n  text-align: center;\r\n  padding: 10px;\r\n  background-color: #fff;\r\n  width: 250px;\r\n  margin: 0 auto;\r\n}\r\n\r\n.recipe-card img {\r\n  width: 100%; \r\n  height: auto;\r\n  border-bottom: 1px solid #ddd;\r\n}\r\n\r\n.recipe-card h3 {\r\n  margin: 10px 0;\r\n  font-size: 1.2em;\r\n  color: #333;\r\n}\r\n\r\n.recipe-card p {\r\n  font-size: 0.9em;\r\n  color: #666;\r\n  margin: 0 10px 10px;\r\n}\r\n\r\n.recipe-card .btn {\r\n  display: block;\r\n  margin: 10px auto;\r\n  padding: 10px 15px;\r\n  background-color: #e74c3c;\r\n  color: #fff;\r\n  border: none;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n  text-align: center;\r\n}\r\n\r\n.recipe-card .btn:hover {\r\n  background-color: #c0392b;\r\n}\r\n\r\n.navbar {\r\n  background-color: #fff;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 1rem 2rem;\r\n  border-bottom: 1px solid #ddd;\r\n}\r\n\r\n.logo-container {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.logo {\r\n  width: 20px;\r\n  height: 20px;\r\n  margin-right: 0.5rem;\r\n}\r\n\r\n.navbar h1 {\r\n  color: #e74c3c;\r\n  margin: 0;\r\n  font-size: 1.5rem;\r\n}\r\n\r\n.navbar nav {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.navbar a {\r\n  margin-left: 1rem;\r\n  color: #333;\r\n  text-decoration: none;\r\n}\r\n\r\n.profile-icon img {\r\n  width: 30px;\r\n  height: 30px;\r\n  border-radius: 50%;\r\n}\r\n\r\n</style>\r\n"],"mappings":";AAgDA,OAAOA,KAAI,MAAO,OAAO,EAAE;;AAE3B,eAAe;EACbC,IAAI,EAAE,aAAa;EACnBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAE,IAAI;MACdC,WAAW,EAAE,EAAE;MACfC,UAAU,EAAE,IAAI;MAChBC,IAAI,EAAE;IACR,CAAC;EACH,CAAC;EACD,MAAMC,OAAOA,CAAA,EAAG;IAChB,IAAI;MACF,MAAMC,YAAW,GAAIC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC;MAC7D,IAAIJ,YAAY,EAAE;QAChB,IAAI,CAACL,QAAO,GAAI;UACdF,IAAI,EAAEO,YAAY,CAACP,IAAI;UACvBY,KAAK,EAAEL,YAAY,CAACK,KAAK;UACzBC,eAAe,EAAEN,YAAY,CAACM,eAAe;UAC7CC,EAAE,EAAEP,YAAY,CAACQ;QACnB,CAAC;QAED,IAAI,CAAC,IAAI,CAACb,QAAQ,CAACY,EAAE,EAAE;UACrB,MAAM,IAAIE,KAAK,CAAC,4CAA4C,CAAC;QAC/D;MACF;;MAEA;MACA,IAAI,CAACb,WAAU,GAAI,MAAM,IAAI,CAACc,gBAAgB,CAAC,CAAC;MAChD,IAAI,CAACb,UAAS,GAAI,KAAK;IACzB,EAAE,OAAOc,KAAK,EAAE;MACd,IAAI,CAACb,IAAG,GAAI,qCAAqC;MACjDc,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;IACtB;EACF,CAAC;EACDE,OAAO,EAAE;IACPC,WAAWA,CAAA,EAAG;MACZ,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC;QAAEvB,IAAI,EAAE;MAAc,CAAC,CAAC;IAC5C,CAAC;IACD,MAAMiB,gBAAgBA,CAAA,EAAG;MACvB,IAAI;QACF,MAAMO,QAAO,GAAI,MAAMzB,KAAK,CAAC0B,GAAG,CAC9B,0CAA0C,IAAI,CAACvB,QAAQ,CAACY,EAAE,EAC5D,CAAC;QACD,OAAOU,QAAQ,CAACvB,IAAI;MACtB,EAAE,OAAOiB,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAACM,QAAO,IAAKN,KAAK,CAAC;QACrE,IAAI,CAACb,IAAG,GAAIa,KAAK,CAACM,QAAQ,EAAEvB,IAAI,EAAEyB,OAAM,IAAK,mBAAmB;QAChE,OAAO,EAAE;MACX;IACF,CAAC;IACDC,YAAYA,CAACC,IAAI,EAAEC,SAAS,EAAE;MAC5B,IAAID,IAAI,CAACE,MAAK,GAAID,SAAS,EAAE;QAC3B,OAAOD,IAAI,CAACG,SAAS,CAAC,CAAC,EAAEF,SAAS,IAAI,KAAK;MAC7C;MACA,OAAOD,IAAI;IACb;EACF;AACA,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}