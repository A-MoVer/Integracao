{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"admin-create-account-container\"\n};\nconst _hoisted_2 = {\n  class: \"create-account-card\"\n};\nconst _hoisted_3 = {\n  class: \"admin-link\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_cache[14] || (_cache[14] = _createElementVNode(\"h2\", null, \"Criar uma conta de administrador\", -1 /* HOISTED */)), _createElementVNode(\"form\", {\n    onSubmit: _cache[5] || (_cache[5] = _withModifiers((...args) => $options.handleCreateAccount && $options.handleCreateAccount(...args), [\"prevent\"]))\n  }, [_cache[7] || (_cache[7] = _createElementVNode(\"label\", {\n    for: \"nome\"\n  }, \"Nome Completo:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"nome\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.nome = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.nome]]), _cache[8] || (_cache[8] = _createElementVNode(\"label\", {\n    for: \"email\"\n  }, \"Email:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"email\",\n    id: \"email\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.email = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.email]]), _cache[9] || (_cache[9] = _createElementVNode(\"label\", {\n    for: \"password\"\n  }, \"Password:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    id: \"password\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.password = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.password]]), _cache[10] || (_cache[10] = _createElementVNode(\"label\", {\n    for: \"confirm-password\"\n  }, \"Repetir Password:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    id: \"confirm-password\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.confirmPassword = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.confirmPassword]]), _cache[11] || (_cache[11] = _createElementVNode(\"label\", {\n    for: \"image\"\n  }, \"Foto de Perfil:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"foto\",\n    id: \"foto-perfil\",\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.fotoPerfil = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.fotoPerfil]]), _cache[12] || (_cache[12] = _createElementVNode(\"button\", {\n    type: \"submit\",\n    class: \"create-account-btn\"\n  }, \"Criar Conta\", -1 /* HOISTED */))], 32 /* NEED_HYDRATION */), _createElementVNode(\"p\", _hoisted_3, [_cache[13] || (_cache[13] = _createTextVNode(\" Já tem uma conta? \")), _createElementVNode(\"a\", {\n    onClick: _cache[6] || (_cache[6] = $event => _ctx.$router.push({\n      name: 'AdminLogin'\n    })),\n    style: {\n      \"cursor\": \"pointer\"\n    }\n  }, \"Faça login\")])])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","onSubmit","_cache","_withModifiers","args","$options","handleCreateAccount","for","type","id","$event","$data","nome","required","email","password","confirmPassword","fotoPerfil","_hoisted_3","_createTextVNode","onClick","_ctx","$router","push","name","style"],"sources":["C:\\Users\\Diogo Resende\\Desktop\\DWA\\G7_24-25\\G7_24-25\\Receitas\\frontend\\src\\components\\CreateAdminAccount.vue"],"sourcesContent":["<template>\r\n    <div class=\"admin-create-account-container\">\r\n      <div class=\"create-account-card\">\r\n        <h2>Criar uma conta de administrador</h2>\r\n        <form @submit.prevent=\"handleCreateAccount\">\r\n          <label for=\"nome\">Nome Completo:</label>\r\n          <input type=\"text\" id=\"nome\" v-model=\"nome\" required />\r\n  \r\n          <label for=\"email\">Email:</label>\r\n          <input type=\"email\" id=\"email\" v-model=\"email\" required />\r\n  \r\n          <label for=\"password\">Password:</label>\r\n          <input type=\"password\" id=\"password\" v-model=\"password\" required />\r\n  \r\n          <label for=\"confirm-password\">Repetir Password:</label>\r\n          <input type=\"password\" id=\"confirm-password\" v-model=\"confirmPassword\" required />\r\n\r\n          <label for=\"image\">Foto de Perfil:</label>\r\n          <input type=\"foto\" id=\"foto-perfil\" v-model=\"fotoPerfil\"/>\r\n  \r\n          <button type=\"submit\" class=\"create-account-btn\">Criar Conta</button>\r\n        </form>\r\n  \r\n        <p class=\"admin-link\">\r\n            Já tem uma conta? <a @click=\"$router.push({ name: 'AdminLogin' })\" style=\"cursor: pointer;\">Faça login</a>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  export default {\r\n  name: \"CreateAdminAccount\",\r\n  data() {\r\n    return {\r\n      nome: \"\",\r\n      email: \"\",\r\n      password: \"\",\r\n      confirmPassword: \"\",\r\n      fotoPerfil: \"\",\r\n    };\r\n  },\r\n  methods: {\r\n    async handleCreateAccount() {\r\n      if (this.password !== this.confirmPassword) {\r\n        alert(\"As senhas não coincidem!\");\r\n        return;\r\n      }\r\n\r\n      // Dados a serem enviados para o backend\r\n      const userData = {\r\n        name: this.nome,\r\n        email: this.email,\r\n        password: this.password,\r\n        user_type: \"chef\", // Define o tipo como 'admin'\r\n        profile_picture: this.fotoPerfil || \"https://cdn-icons-png.flaticon.com/512/7414/7414124.png\", // Foto de perfil padrão se não for fornecida\r\n      };\r\n\r\n      try {\r\n        // Faz a requisição ao backend\r\n        const response = await fetch(\"http://localhost:3000/users\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(userData),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const errorData = await response.json();\r\n        alert(`Erro ao criar conta: ${errorData.message}`);\r\n        return;\r\n      }\r\n\r\n      const newUser = await response.json(); // Aqui usamos newUser para salvar o retorno\r\n      console.log(\"User criado:\", newUser);\r\n      this.$router.push({ name: \"AdminLogin\" });\r\n\r\n      } catch (error) {\r\n        console.error(\"Erro ao criar conta:\", error);\r\n        alert(\"Ocorreu um erro ao criar a conta.\");\r\n      }\r\n    },\r\n  },\r\n};\r\n  </script>\r\n  \r\n  <style>\r\n  .admin-create-account-container {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    height: 100vh;\r\n    background-image: url('@/assets/background.jpg');\r\n    background-size: cover;\r\n    background-repeat: no-repeat;\r\n    background-position: center;\r\n  }\r\n  \r\n  .create-account-card {\r\n    background: white;\r\n    padding: 30px;\r\n    border-radius: 8px;\r\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\r\n    text-align: center;\r\n    width: 350px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n  }\r\n  \r\n  h2 {\r\n    margin-bottom: 20px;\r\n    font-size: 1.4em;\r\n    color: #333;\r\n  }\r\n  \r\n  form {\r\n    width: 100%;\r\n    display: flex;\r\n    flex-direction: column;\r\n  }\r\n  \r\n  label {\r\n    font-size: 0.9em;\r\n    margin-bottom: 5px;\r\n    color: #555;\r\n  }\r\n  \r\n  input {\r\n    padding: 8px;\r\n    margin-bottom: 15px;\r\n    border: 1px solid #ccc;\r\n    border-radius: 5px;\r\n    font-size: 1em;\r\n  }\r\n  \r\n  .create-account-btn {\r\n    background: #e63946;\r\n    color: white;\r\n    border: none;\r\n    padding: 10px 20px;\r\n    font-size: 1em;\r\n    border-radius: 5px;\r\n    cursor: pointer;\r\n  }\r\n  \r\n  .create-account-btn:hover {\r\n    background: #d62839;\r\n  }\r\n  \r\n  .back-to-login {\r\n    font-size: 0.9em;\r\n    margin-top: 10px;\r\n  }\r\n  \r\n  .back-to-login a {\r\n    color: #007bff;\r\n    text-decoration: none;\r\n  }\r\n  \r\n  .back-to-login a:hover {\r\n    text-decoration: underline;\r\n  }\r\n  </style>  "],"mappings":";;;EACSA,KAAK,EAAC;AAAgC;;EACpCA,KAAK,EAAC;AAAqB;;EAqB3BA,KAAK,EAAC;AAAY;;uBAtBzBC,mBAAA,CA0BM,OA1BNC,UA0BM,GAzBJC,mBAAA,CAwBM,OAxBNC,UAwBM,G,4BAvBJD,mBAAA,CAAyC,YAArC,kCAAgC,sBACpCA,mBAAA,CAiBO;IAjBAE,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAJrBC,cAAA,KAAAC,IAAA,KAI+BC,QAAA,CAAAC,mBAAA,IAAAD,QAAA,CAAAC,mBAAA,IAAAF,IAAA,CAAmB;gCACxCL,mBAAA,CAAwC;IAAjCQ,GAAG,EAAC;EAAM,GAAC,gBAAc,sB,gBAChCR,mBAAA,CAAuD;IAAhDS,IAAI,EAAC,MAAM;IAACC,EAAE,EAAC,MAAM;IANtC,uBAAAP,MAAA,QAAAA,MAAA,MAAAQ,MAAA,IAMgDC,KAAA,CAAAC,IAAI,GAAAF,MAAA;IAAEG,QAAQ,EAAR;iDAANF,KAAA,CAAAC,IAAI,E,6BAE1Cb,mBAAA,CAAiC;IAA1BQ,GAAG,EAAC;EAAO,GAAC,QAAM,sB,gBACzBR,mBAAA,CAA0D;IAAnDS,IAAI,EAAC,OAAO;IAACC,EAAE,EAAC,OAAO;IATxC,uBAAAP,MAAA,QAAAA,MAAA,MAAAQ,MAAA,IASkDC,KAAA,CAAAG,KAAK,GAAAJ,MAAA;IAAEG,QAAQ,EAAR;iDAAPF,KAAA,CAAAG,KAAK,E,6BAE7Cf,mBAAA,CAAuC;IAAhCQ,GAAG,EAAC;EAAU,GAAC,WAAS,sB,gBAC/BR,mBAAA,CAAmE;IAA5DS,IAAI,EAAC,UAAU;IAACC,EAAE,EAAC,UAAU;IAZ9C,uBAAAP,MAAA,QAAAA,MAAA,MAAAQ,MAAA,IAYwDC,KAAA,CAAAI,QAAQ,GAAAL,MAAA;IAAEG,QAAQ,EAAR;iDAAVF,KAAA,CAAAI,QAAQ,E,+BAEtDhB,mBAAA,CAAuD;IAAhDQ,GAAG,EAAC;EAAkB,GAAC,mBAAiB,sB,gBAC/CR,mBAAA,CAAkF;IAA3ES,IAAI,EAAC,UAAU;IAACC,EAAE,EAAC,kBAAkB;IAftD,uBAAAP,MAAA,QAAAA,MAAA,MAAAQ,MAAA,IAegEC,KAAA,CAAAK,eAAe,GAAAN,MAAA;IAAEG,QAAQ,EAAR;iDAAjBF,KAAA,CAAAK,eAAe,E,+BAErEjB,mBAAA,CAA0C;IAAnCQ,GAAG,EAAC;EAAO,GAAC,iBAAe,sB,gBAClCR,mBAAA,CAA0D;IAAnDS,IAAI,EAAC,MAAM;IAACC,EAAE,EAAC,aAAa;IAlB7C,uBAAAP,MAAA,QAAAA,MAAA,MAAAQ,MAAA,IAkBuDC,KAAA,CAAAM,UAAU,GAAAP,MAAA;iDAAVC,KAAA,CAAAM,UAAU,E,+BAEvDlB,mBAAA,CAAqE;IAA7DS,IAAI,EAAC,QAAQ;IAACZ,KAAK,EAAC;KAAqB,aAAW,qB,4BAG9DG,mBAAA,CAEI,KAFJmB,UAEI,G,4BAzBZC,gBAAA,CAuB8B,qBACA,IAAApB,mBAAA,CAAwF;IAApFqB,OAAK,EAAAlB,MAAA,QAAAA,MAAA,MAAAQ,MAAA,IAAEW,IAAA,CAAAC,OAAO,CAACC,IAAI;MAAAC,IAAA;IAAA;IAA0BC,KAAwB,EAAxB;MAAA;IAAA;KAAyB,YAAU,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}