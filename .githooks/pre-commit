#!/bin/bash

# Lista de ficheiros que N√ÉO podem ser alterados
FILES_BLOCKED="sonar-project.properties .github/workflows/"

# Verificar se algum dos ficheiros bloqueados foi modificado
for FILE in $FILES_BLOCKED; do
  if git diff --cached --name-only | grep -q "$FILE"; then
    echo "‚ùå ERRO: N√£o podes modificar o ficheiro $FILE diretamente!"
    echo "üîí Faz um Pull Request para revis√£o dos administradores."
    exit 1  # Impede o commit
  fi
done
